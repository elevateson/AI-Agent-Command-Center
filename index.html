<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self'; img-src 'self' data:; font-src 'self'; connect-src 'none'; frame-ancestors 'none';">
  <meta http-equiv="X-Frame-Options" content="DENY">
  <meta name="referrer" content="no-referrer">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#0f0f1a">
  <title>Command Center</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>

  <!-- HEADER -->
  <div class="header">
    <div class="header-left">
      <h1>ğŸ¯ Command Center</h1>
      <div class="subtitle">AI Agent Task Management</div>
    </div>
    <div class="tabs">
      <button class="tab-btn active" data-tab="dashboard">ğŸ  Dashboard</button>
      <button class="tab-btn" data-tab="board">ğŸ“‹ Board</button>
      <button class="tab-btn" data-tab="projects">ğŸ“ Projects</button>
      <button class="tab-btn" data-tab="calendar">ğŸ“… Calendar</button>
      <button class="tab-btn" data-tab="settings">âš™ï¸ Settings</button>
    </div>
  </div>

  <!-- CONTENT -->
  <div class="content">
    <div id="dashboard-tab" class="tab-content active"></div>
    <div id="board-tab" class="tab-content"></div>
    <div id="projects-tab" class="tab-content"></div>
    <div id="calendar-tab" class="tab-content"></div>
    <div id="settings-tab" class="tab-content"></div>
  </div>

  <!-- MOBILE BOTTOM NAV -->
  <div class="mobile-nav">
    <div class="mobile-nav-inner">
      <button class="mobile-nav-btn active" data-tab="dashboard">
        <span class="nav-icon">ğŸ </span>
        <span>Home</span>
      </button>
      <button class="mobile-nav-btn" data-tab="board">
        <span class="nav-icon">ğŸ“‹</span>
        <span>Board</span>
      </button>
      <button class="mobile-nav-btn" data-tab="projects">
        <span class="nav-icon">ğŸ“</span>
        <span>Projects</span>
      </button>
      <button class="mobile-nav-btn" data-tab="calendar">
        <span class="nav-icon">ğŸ“…</span>
        <span>Calendar</span>
      </button>
      <button class="mobile-nav-btn" data-tab="settings">
        <span class="nav-icon">âš™ï¸</span>
        <span>Settings</span>
      </button>
    </div>
  </div>

  <!-- TASK MODAL -->
  <div id="task-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="modal-title">New Task</h2>
        <button class="modal-close" data-close="task-modal">&times;</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label>Title</label>
          <input type="text" id="task-title" placeholder="Task title...">
        </div>
        <div class="form-group">
          <label>Description</label>
          <textarea id="task-desc" placeholder="Task description..."></textarea>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label>Status</label>
            <select id="task-status">
              <option value="blocked">ğŸ”´ Blocked</option>
              <option value="todo" selected>ğŸŸ¡ To-Do</option>
              <option value="onhold">â¸ï¸ On Hold</option>
              <option value="in-progress">ğŸ”µ In Progress</option>
              <option value="done">âœ… Done</option>
            </select>
          </div>
          <div class="form-group">
            <label>Priority</label>
            <select id="task-priority">
              <option value="critical">ğŸ”´ Critical</option>
              <option value="high">ğŸŸ  High</option>
              <option value="medium" selected>ğŸŸ¡ Medium</option>
              <option value="low">ğŸŸ¢ Low</option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label>Assignee</label>
            <select id="task-assignee">
              <option value="">â€” Unassigned â€”</option>
              <option value="kris">ğŸ§‘â€ğŸ’¼ Kris</option>
              <option value="taylor">ğŸ¦‰ Taylor</option>
              <option value="nyx">ğŸ¤– Nyx</option>
            </select>
          </div>
          <div class="form-group">
            <label>Project</label>
            <select id="task-project">
              <option value="">â€” No Project â€”</option>
            </select>
          </div>
        </div>
        <div class="form-group">
          <label>Tags (comma-separated)</label>
          <input type="text" id="task-tags" placeholder="e.g. coding, design, urgent">
        </div>
        <div class="form-row">
          <div class="form-group">
            <label>Due Date</label>
            <input type="date" id="task-due-date">
          </div>
          <div class="form-group">
            <label>AI Model</label>
            <input type="text" id="task-model" placeholder="e.g. opus, sonnet">
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label>Estimated Cost ($)</label>
            <input type="number" id="task-est-cost" placeholder="0.00" step="0.01">
          </div>
          <div class="form-group">
            <label>Actual Cost ($)</label>
            <input type="number" id="task-act-cost" placeholder="0.00" step="0.01">
          </div>
        </div>
        <div class="form-group">
          <label>Progress: <span id="task-progress-val">0%</span></label>
          <input type="range" id="task-progress" min="0" max="100" value="0">
        </div>
      </div>
      <div class="modal-footer">
        <div class="modal-footer-left">
          <button class="btn btn-danger" id="task-delete-btn" style="display:none">ğŸ—‘ï¸ Delete</button>
        </div>
        <div class="modal-footer-right">
          <button class="btn btn-secondary" data-close="task-modal">Cancel</button>
          <button class="btn btn-primary" id="task-save-btn">ğŸ’¾ Save</button>
        </div>
      </div>
    </div>
  </div>

  <!-- PROJECT MODAL -->
  <div id="project-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="proj-modal-title">New Project</h2>
        <button class="modal-close" data-close="project-modal">&times;</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label>Project Name</label>
          <input type="text" id="proj-name" placeholder="Project name...">
        </div>
        <div class="form-group">
          <label>Description</label>
          <textarea id="proj-desc" placeholder="What is this project about?"></textarea>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label>Status</label>
            <select id="proj-status">
              <option value="planning">Planning</option>
              <option value="active">Active</option>
              <option value="on-hold">On Hold</option>
              <option value="completed">Completed</option>
              <option value="archived">Archived</option>
            </select>
          </div>
          <div class="form-group">
            <label>Priority</label>
            <select id="proj-priority">
              <option value="critical">ğŸ”´ Critical</option>
              <option value="high">ğŸŸ  High</option>
              <option value="medium" selected>ğŸŸ¡ Medium</option>
              <option value="low">ğŸŸ¢ Low</option>
            </select>
          </div>
        </div>
        <div class="form-group">
          <label>Color</label>
          <input type="color" id="proj-color" value="#2196f3">
        </div>
        <div class="form-group">
          <label>Team Members</label>
          <div class="checkbox-group">
            <label><input type="checkbox" class="proj-assignee-cb" value="kris"> ğŸ§‘â€ğŸ’¼ Kris</label>
            <label><input type="checkbox" class="proj-assignee-cb" value="taylor"> ğŸ¦‰ Taylor</label>
            <label><input type="checkbox" class="proj-assignee-cb" value="nyx"> ğŸ¤– Nyx</label>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <div class="modal-footer-left">
          <button class="btn btn-danger" id="proj-delete-btn" style="display:none">ğŸ—‘ï¸ Delete</button>
        </div>
        <div class="modal-footer-right">
          <button class="btn btn-secondary" data-close="project-modal">Cancel</button>
          <button class="btn btn-primary" id="proj-save-btn">ğŸ’¾ Save</button>
        </div>
      </div>
    </div>
  </div>

  <!-- TOAST CONTAINER -->
  <div id="toast-container"></div>

  <!-- SCRIPTS (order matters: utils â†’ datastore â†’ views â†’ app) -->
  <script src="js/utils.js"></script>
  <script src="js/datastore.js"></script>
  <script src="js/dashboard.js"></script>
  <script src="js/board.js"></script>
  <script src="js/projects.js"></script>
  <script src="js/calendar.js"></script>
  <script src="js/settings.js"></script>
  <script src="js/app.js"></script>

</body>
</html>
